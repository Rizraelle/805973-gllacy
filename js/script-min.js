var linkLogin=document.querySelector(".login__link"),popupLogin=document.querySelector(".login-submenu"),formLogin=popupLogin.querySelector(".login-form"),emailLogin=popupLogin.querySelector(".login-email"),password=popupLogin.querySelector(".login-password"),isStorageSupport=!0,storage3="";try{storage3=localStorage.getItem("login-email")}catch(e){isStorageSupport=!1,storage3=""}linkLogin.addEventListener("click",function(e){e.preventDefault(),popupLogin.classList.toggle("modal-show"),storage3?(emailLogin.value=storage3,password.focus()):emailLogin.focus()}),formLogin.addEventListener("submit",function(e){emailLogin.value&&password.value?isStorageSupport&&localStorage.setItem("login-email",emailLogin.value):(e.preventDefault(),popupLogin.classList.remove("modal-error"),popupLogin.offsetWidth=popupLogin.offsetWidth,popupLogin.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupLogin.classList.contains("modal-show")&&(popupLogin.classList.remove("modal-show"),popupLogin.classList.remove("modal-error")))});var searchLink=document.querySelector(".search__link"),searchForm=document.querySelector(".search__form");searchLink.addEventListener("click",function(e){e.preventDefault(),searchForm.classList.toggle("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),searchForm.classList.contains("modal-show")&&searchForm.classList.remove("modal-show"))});var body=document.querySelector(".main-page");if(body){var toggle1=document.querySelector(".toggle-1"),toggle2=document.querySelector(".toggle-2"),toggle3=document.querySelector(".toggle-3"),slide1=document.querySelector(".slide-1"),slide2=document.querySelector(".slide-2"),slide3=document.querySelector(".slide-3");toggle1.addEventListener("click",function(e){e.preventDefault(),toggle1.classList.add("toggle-on"),toggle2.classList.remove("toggle-on"),toggle3.classList.remove("toggle-on"),body.classList.add("main-page1"),body.classList.remove("main-page2"),body.classList.remove("main-page3"),slide1.classList.remove("visually-hidden"),slide2.classList.add("visually-hidden"),slide3.classList.add("visually-hidden")}),toggle2.addEventListener("click",function(e){e.preventDefault(),toggle2.classList.add("toggle-on"),toggle1.classList.remove("toggle-on"),toggle3.classList.remove("toggle-on"),body.classList.add("main-page2"),body.classList.remove("main-page1"),body.classList.remove("main-page3"),slide2.classList.remove("visually-hidden"),slide1.classList.add("visually-hidden"),slide3.classList.add("visually-hidden")}),toggle3.addEventListener("click",function(e){e.preventDefault(),toggle3.classList.add("toggle-on"),toggle1.classList.remove("toggle-on"),toggle2.classList.remove("toggle-on"),body.classList.add("main-page3"),body.classList.remove("main-page1"),body.classList.remove("main-page2"),slide3.classList.remove("visually-hidden"),slide1.classList.add("visually-hidden"),slide2.classList.add("visually-hidden")})}var contacts=document.querySelector(".button-contacts"),popup=document.querySelector(".modal-feedback"),close=document.querySelector(".modal-close"),feedbackOverlay=document.querySelector(".modal-overlay");if(popup){var storage,storage2,form=popup.querySelector(".feedback-form"),feedbackName=popup.querySelector(".feedback-name"),feedbackEmail=popup.querySelector(".feedback-email"),feedbackText=popup.querySelector(".feedback-text");try{isStorageSupport=!0,storage=localStorage.getItem("feedback-name"),storage2=localStorage.getItem("feedback-email")}catch(e){isStorageSupport=!1,storage2=storage=""}contacts.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),feedbackOverlay.classList.add("modal-overlay-show"),storage&&storage2?(feedbackName.value=storage,feedbackEmail.value=storage2,feedbackText.focus()):storage?(feedbackName.value=storage,feedbackEmail.focus()):feedbackName.focus()}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),feedbackOverlay.classList.remove("modal-overlay-show")}),form.addEventListener("submit",function(e){feedbackName.value&&feedbackEmail.value&&feedbackText.value?isStorageSupport&&(localStorage.setItem("feedback-name",feedbackName.value),localStorage.setItem("feedback-email",feedbackEmail.value)):(e.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),popup.classList.remove("modal-error")),feedbackOverlay.classList.contains("modal-overlay-show")&&feedbackOverlay.classList.remove("modal-overlay-show"))})}